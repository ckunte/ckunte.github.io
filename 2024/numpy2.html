<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chetan Kunté: numpy 2.0 compliance check</title>
<meta name="description" content="numpy 2.0..." />
<script src="/inc/code-math.js" integrity="sha384-xT8wN8NCeuamUQtBjQWvwc7dCGAT89VKkZR5MVAcr18p99euBN7VZVb0NH07+lYA"></script>
<link rel="icon" href="data:," />
<link type="text/css" rel="stylesheet" href="/inc/home.css" />
</head>
<body>
<main>
<header>
    <a accesskey="/" title="Home" href="/"><img alt="Chetan Kunté" class="logo" src="/inc/favicon.svg" width="26" height="21.37"></a>
</header>	
<article>
<h1>numpy 2.0 compliance check</h1>
<time datetime="2024-06-19T23:15:00+08:00">
19 Jun 2024, 
1 min</time>
<p><a href="https://numpy.org/news/#numpy-200-released" title="NumPy 2.0.0 released">numpy 2.0 was released</a> this week. Given the many updates, I wanted to test if the code I had written over the years was still usable. The <a href="https://numpy.org/devdocs/numpy_2_0_migration_guide.html" title="NumPy 2.0 migration guide">migration guide</a> suggests testing with <a href="https://docs.astral.sh/ruff/" title="An extremely fast Python linter and code formatter, written in Rust.">ruff</a>. With my python code available in <a href="https://github.com/ckunte/m-one/tree/master/src" title="All python code on this site">this repo.</a>, it was simpler to run the following. It searches for files with numpy calls, and those found are checked for compliance. </p>
<pre><code>grep &quot;numpy&quot; *.py | ruff check --select NPY201
</code></pre>
<p>Of the 22 files, one failed. A cursory check revealed that it was not specific to numpy, but a legacy print statement. It was an <a href="https://github.com/ckunte/m-one/commit/a077c767ef6d250cfd264b83c01e12cd858e7ca8">easy fix</a>.</p>
</article>
<footer>
  <span>&lsaquo; <a accesskey="j" title="Build" href="/2024/build">Prev</a></span>
  <span><a accesskey="k" title="The daily driver" href="/2024/pi5">Next</a> &rsaquo;</span>
</footer>
</main>
</body>
</html>